<script lang="ts">
	import StatCard from './StatCard.svelte';
	import Heading from '../ui/Heading.svelte';
	import type { SystemStats } from '../../types/admin.types';

	// Props
	export let stats: SystemStats | null = null;
	export let loading: boolean = false;

</script>

<div class="space-y-6">
	<Heading level={2} size="2xl" weight="bold" variant="primary" icon="üìä" class="mb-4">
		–°–∏—Å—Ç–µ–º–∞ JSPulse
	</Heading>
	
	{#if loading}
		<div class="animate-pulse space-y-6">
			{#each Array(5) as _}
				<div class="bg-slate-200 dark:bg-slate-700 rounded-xl h-32"></div>
			{/each}
		</div>
	{:else if stats}
		<StatCard 
			title="üìù –í–∞–∫–∞–Ω—Å–∏–∏" 
			value={stats.vacancies.total} 
			subtitle="–í—Å–µ–≥–æ –≤ –±–∞–∑–µ"
			details={`–ó–∞ 24—á: +${stats.vacancies.recent24h} | –° –æ–ø–∏—Å–∞–Ω–∏–µ–º: ${stats.vacancies.withFullDescription}`}
		/>
		
		<StatCard 
			title="üõ†Ô∏è –ù–∞–≤—ã–∫–∏" 
			value={stats.skills.unique} 
			subtitle="–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–∞–≤—ã–∫–æ–≤"
			details={`–í—Å–µ–≥–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π: ${stats.skills.total}`}
		/>
		
	{:else}
		<div class="text-center py-12">
			<p class="text-secondary">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å–∏—Å—Ç–µ–º–µ</p>
		</div>
	{/if}
</div> 