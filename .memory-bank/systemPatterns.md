# System Patterns

## Архитектура
- Слоистая архитектура: presentation (Svelte), service, adapter, utils.
- Модули: backend (Express, TypeScript), frontend (SvelteKit), shared (DTO, типы).
- Использование ES-модулей, pnpm workspaces, Docker.

## Паттерны проектирования
- Adapter — единый интерфейс доступа к API и внешним источникам.
- Decorator — оборачивание клиентов для логирования и кэширования.
- Factory Method — создание клиентов в зависимости от среды (browser/server).
- DTO — структурированная передача данных между слоями.
- Value Object — валидация и инкапсуляция значений.
- Fail-fast — валидация данных на раннем этапе.

## Валидация и типизация
- Все входные данные проходят явную проверку (zod, class-validator).
- Не пропускать невалидные значения — выбрасывать ошибки сразу.
- Валидация отделена от бизнес-логики.

## Процессы
- Все изменения в типах — только через shared/types, с пересборкой и синхронизацией.
- Использование централизованного логирования (debug, info, warn, error).
- Docker Compose для локальной разработки и продакшена. 